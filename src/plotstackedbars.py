

import pandas as pd
from matplotlib import pyplot as plt
from matplotlib.patches import Patch

plt.title("Interaction order and duration in puzzle 1")
plt.xlabel("Solution (participant and run)")
plt.ylabel("Time (s)")

plotdata = [] #a list of data frames


plotdata.append(pd.DataFrame({"pnp":[0.755177, 2.600364, 1.233429, 0.004, 5.000606, 2.998831, 0.816477, 1.658456, 2.510641, 0.833516, 2.333503, 0.383703, 0.321365, 2.28602, 1.66789, 0.350404, 0.416593, 0.650454, 0.633377, 1.483363, 0.750067, 0.91683, 0.633302, 0.533317, 1.000082, 1.216239, 0.733134, 0.583568, 1.000139, 0.76644, 0.850191, 0.470562, 2.768831],"obj":["obj2", "obj1", "box1", "box1", "box1", "box1", "obj1", "obj2", "obj1", "obj1", "box1", "obj2", "obj2", "box1", "obj2", "obj2", "obj2", "obj2", "obj2", "obj2", "obj2", "obj2", "obj2", "obj2", "obj1", "obj1", "obj1", "obj2", "obj1", "obj1", "obj2", "obj2", "box1"]},index=["31_1", "33_1", "40_1", "43_1", "44_1", "48_1", "32_1", "35_1", "36_1", "38_1", "41_1", "42_1", "42_2", "44_2", "45_1", "47_2", "31_2", "33_2", "34_1", "34_2", "35_2", "37_1", "39_1", "37_2", "36_2", "39_2", "41_2", "43_2", "46_1", "46_2", "45_2", "48_2", "47_1"]))
plotdata.append(pd.DataFrame({"pnp":[3.576872, 2e-05, 0.550007, 2.56399, 1.233366, 0.749626, 0.099862, 1.166481, 0.804034, 0.79971, 0.532843, 1.383531, 1.393132, 0.533847, 0.050229, 2.5e-05, 1.283277, 1.382996, 2.178074, 1.41621, 2.049969, 1.516636, 1.4667, 2.183297, 2.266309, 1.966739, 1.650147, 1.716388, 1.982722, 1.15045, 1.683221, 1.683218, 1.357636],"obj":["box1", "obj1", "obj2", "box1", "obj1", "box1", "box1", "box1", "box1", "obj2", "obj1", "box1", "box1", "obj2", "box1", "obj2", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1"]},index=["31_1", "33_1", "40_1", "43_1", "44_1", "48_1", "32_1", "35_1", "36_1", "38_1", "41_1", "42_1", "42_2", "44_2", "45_1", "47_2", "31_2", "33_2", "34_1", "34_2", "35_2", "37_1", "39_1", "37_2", "36_2", "39_2", "41_2", "43_2", "46_1", "46_2", "45_2", "48_2", "47_1"]))
plotdata.append(pd.DataFrame({"pnp":[0.399834, 1.632793, 0.916752, 0.633928, 1.116542, 1.202523, 1.150058, 2.750109, 2.266082, 2.067007, 2.149471, 1.466506, 2.116232, 1.00088, 2.583013, 2.166784, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.807226],"obj":["obj1", "box1", "box1", "obj2", "box1", "obj1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "obj1"]},index=["31_1", "33_1", "40_1", "43_1", "44_1", "48_1", "32_1", "35_1", "36_1", "38_1", "41_1", "42_1", "42_2", "44_2", "45_1", "47_2", "31_2", "33_2", "34_1", "34_2", "35_2", "37_1", "39_1", "37_2", "36_2", "39_2", "41_2", "43_2", "46_1", "46_2", "45_2", "48_2", "47_1"]))
plotdata.append(pd.DataFrame({"pnp":[2.033487, 1.386067, 1.082818, 0.866427, 0.516851, 0.733166, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.1e-05],"obj":["box1", "box1", "box1", "box1", "box1", "obj2", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "obj1"]},index=["31_1", "33_1", "40_1", "43_1", "44_1", "48_1", "32_1", "35_1", "36_1", "38_1", "41_1", "42_1", "42_2", "44_2", "45_1", "47_2", "31_2", "33_2", "34_1", "34_2", "35_2", "37_1", "39_1", "37_2", "36_2", "39_2", "41_2", "43_2", "46_1", "46_2", "45_2", "48_2", "47_1"]))
plotdata.append(pd.DataFrame({"pnp":[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.350761],"obj":["box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1"]},index=["31_1", "33_1", "40_1", "43_1", "44_1", "48_1", "32_1", "35_1", "36_1", "38_1", "41_1", "42_1", "42_2", "44_2", "45_1", "47_2", "31_2", "33_2", "34_1", "34_2", "35_2", "37_1", "39_1", "37_2", "36_2", "39_2", "41_2", "43_2", "46_1", "46_2", "45_2", "48_2", "47_1"]))
plotdata.append(pd.DataFrame({"pnp":[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.033305],"obj":["box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1", "box1"]},index=["31_1", "33_1", "40_1", "43_1", "44_1", "48_1", "32_1", "35_1", "36_1", "38_1", "41_1", "42_1", "42_2", "44_2", "45_1", "47_2", "31_2", "33_2", "34_1", "34_2", "35_2", "37_1", "39_1", "37_2", "36_2", "39_2", "41_2", "43_2", "46_1", "46_2", "45_2", "48_2", "47_1"]))


#map colors
colours = {"obj1": "#FF0000", "obj2": "#44bd32", "box1": "#0000FF"}

#reordering columns to sort by participant (run1 and run2), trials with only run1 are at the end
idxsrt = ["31_1", "31_2", "33_1", "33_2", "34_1", "34_2", "35_1", "35_2", "36_1", "36_2", "37_1", "37_2", "39_1", "39_2", "41_1", "41_2",  "42_1", "42_2",  "43_1", "43_2",  "44_1", "44_2", "45_1", "45_2",  "46_1", "46_2",  "47_1", "47_2",  "48_1", "48_2", "32_1", "38_1", "40_1"]

for idx in range(len(plotdata)):
    plotdata[idx] = plotdata[idx].reindex(idxsrt)


plotdata[0].head()


bottomplot = plotdata[0]['pnp']
plotdata[0]['pnp'].plot(kind="bar", color=plotdata[0]['obj'].replace(colours)).legend(
    [
        Patch(facecolor=colours['obj1']),
        Patch(facecolor=colours['obj2']),
        Patch(facecolor=colours['box1'])
    ], ["obj1", "obj2", "box1"]
)


for d in plotdata[1:]:
    d['pnp'].plot(kind="bar", bottom = bottomplot, color=d['obj'].replace(colours))
    bottomplot += d['pnp']


plt.show()
